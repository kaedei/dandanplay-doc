import{_ as e,r as o,o as u,c as l,a as n,b as t,w as p,d as s,e as r}from"./app-a0d85ae6.js";const i={},c=n("h1",{id:"弹弹play资源搜索节点api规范",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#弹弹play资源搜索节点api规范","aria-hidden":"true"},"#"),s(" 弹弹play资源搜索节点API规范")],-1),d={class:"table-of-contents"},k=r(`<h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明" aria-hidden="true">#</a> 说明</h2><p>此文档用来说明弹弹play客户端是如何调用服务器端API来进行【资源搜索】操作的，您可以根据此文档实现一个简单的服务器端HTTP Web API，然后将服务器地址填写到客户端配置中，即可正常开启弹弹play客户端的【资源搜索】功能。</p><h2 id="流程介绍" tabindex="-1"><a class="header-anchor" href="#流程介绍" aria-hidden="true">#</a> 流程介绍</h2><p>客户端会通过标准http/https请求调用服务器端的API，获取到json格式返回的结果后，将搜索结果显示在界面列表中。</p><p>客户端在界面显示时，首先会调用 <code>/subgroup</code> 和 <code>/type</code> 两个接口，用来获取全部字幕组和资源类型，用来填充下拉列表。</p><p>在用户输入搜索关键词，并点击搜索后，客户端将会调用 <code>/list</code> 接口，获取搜索结果。</p><h2 id="接口详情" tabindex="-1"><a class="header-anchor" href="#接口详情" aria-hidden="true">#</a> 接口详情</h2><h3 id="_1-get-subgroup" tabindex="-1"><a class="header-anchor" href="#_1-get-subgroup" aria-hidden="true">#</a> 1. GET /subgroup</h3><p>获取字幕组列表</p><p>返回值示例：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Subgroups&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未知字幕组&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;资源网管理组&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;动漫花园字幕组&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;漫画@花园&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;音乐@花园&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接口说明： <code>SubGroups</code>属性为一个数组，<code>Id</code>是数字类型的字幕组编号，将会绑定为下拉列表内部ID，<code>Name</code>是字符串类型的字幕组名称，将会显示在界面上。</p><h3 id="_2-get-type" tabindex="-1"><a class="header-anchor" href="#_2-get-type" aria-hidden="true">#</a> 2. GET /type</h3><p>获取资源类型列表</p><p>返回值示例：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未知分类&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;其他&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;动画/新番连载&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;漫画&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;音乐&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;日剧&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接口说明： <code>Types</code>属性为一个数组，<code>Id</code>是数字类型的类别编号，将会绑定为下拉列表内部ID，<code>Name</code>是字符串类型的类别名称，将会显示在界面上。</p><h3 id="_3-get-list" tabindex="-1"><a class="header-anchor" href="#_3-get-list" aria-hidden="true">#</a> 3. GET /list</h3><p>通过搜索关键词搜索资源</p><p>请求参数：</p><table><thead><tr><th>参数</th><th>说明</th><th>必需</th><th>示例</th></tr></thead><tbody><tr><td>keyword</td><td>搜索关键词，已经经过URI编码</td><td>是</td><td>魔法少女小圆</td></tr><tr><td>subgroup</td><td>字幕组ID</td><td>否</td><td>123</td></tr><tr><td>type</td><td>资源类别ID</td><td>否</td><td>2</td></tr><tr><td>r</td><td>随机数，用于避免缓存</td><td>否</td><td>0.13579</td></tr></tbody></table><p>返回值示例：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;HasMore&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Resources&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[210106]アプリゲーム『CUE!』AiRBLUE 4th Single「最高の魔法」[DVD付初回限定盘][320K]&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeId&quot;</span><span class="token operator">:</span> <span class="token number">43</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;音乐/动漫音乐&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupId&quot;</span><span class="token operator">:</span> <span class="token number">390</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;天使动漫论坛&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Magnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;magnet:?xt=urn:btih:PYCEIAMYL6RGZARU4L3SWJE3CIEQNE7W&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://share.dmhy.org/topics/view/556234_210106_CUE%21_AiRBLUE_4th_Single_DVD_320K.html&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;FileSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;87.5MB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PublishDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-05 16:15:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[210106]『BanG Dream!バンドリ!』Poppin&#39;Party 16thシングル「Photograp」／戸山香澄(爱美)、花园たえ(大塚纱英)、牛込りみ(西本りみ)、山吹沙绫(大桥彩香)、市ヶ谷有咲(伊藤彩沙)[320K]&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeId&quot;</span><span class="token operator">:</span> <span class="token number">43</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;音乐/动漫音乐&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupId&quot;</span><span class="token operator">:</span> <span class="token number">390</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;天使动漫论坛&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Magnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;magnet:?xt=urn:btih:D3HRCIYZQGMD4ZKT4GVHNIO7FCH5FDR7&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://share.dmhy.org/topics/view/556232_210106_BanG_Dream%21_%21_Poppin_Party_16th_Photograp_320K.html&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;FileSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;44.4MB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PublishDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-05 14:43:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[Lilith-Raws] 比方说，这是个出身魔王关附近的少年在新手村生活的故事 - 01 [Baha][WEB-DL][1080p][AVC AAC][CHT][MP4]&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeId&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;动画/新番连载&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未知字幕组&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Magnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;magnet:?xt=urn:btih:KO36AQLQCEUVSMYIEDAHU67JWAFWYFZQ&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://share.dmhy.org/topics/view/556230_Lilith-Raws_-_01_Baha_WEB-DL_1080p_AVC_AAC_CHT_MP4.html&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;FileSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;376.6MB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PublishDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-05 13:55:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[4K][路基艾尔-Raws][寒蝉鸣泣之时/Higurashi No Naku Koro Ni/ひぐらしのなく顷に][08][BDRemux][2160P][简繁内封][GB&amp;BIG5][MKV]&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeId&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;TypeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;动画/新番连载&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SubgroupName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未知字幕组&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Magnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;magnet:?xt=urn:btih:XQSEKMNEWC4YDUI5AZSSYZRGQQKZJ6UT&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://share.dmhy.org/topics/view/556228_4K_-Raws_Higurashi_No_Naku_Koro_Ni_08_BDRemux_2160P_GB_BIG5_MKV.html&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;FileSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12.7GB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;PublishDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-05 13:24:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回值说明：</p><table><thead><tr><th>返回值</th><th>说明</th><th>数据格式</th><th>示例</th></tr></thead><tbody><tr><td>hasMore</td><td>是否有更多结果。当搜索结果过多时，可以限制json中的结果数量，同时将hasMore设置为true，客户端将会显示“搜索结果过多”的提示。</td><td>boolean</td><td>true</td></tr><tr><td>Title</td><td>资源标题</td><td>string</td><td>[1月新番][进击的巨人][01].mp4</td></tr><tr><td>TypeId</td><td>资源类别ID</td><td>int</td><td>1</td></tr><tr><td>TypeName</td><td>资源类别名称</td><td>string</td><td>动画/新番连载</td></tr><tr><td>SubgroupId</td><td>字幕组ID</td><td>int</td><td>123</td></tr><tr><td>SubgroupName</td><td>字幕组名称</td><td>string</td><td>XX字幕组</td></tr><tr><td>Magnet</td><td>磁力链接</td><td>string</td><td>magnet:?xt=urn:btih:OJUUUFULYI24DO3YFDIL6QCQDPFD2GIM</td></tr><tr><td>PageUrl</td><td>资源发布页面</td><td>string</td><td>https://share.dmhy.org/12345.html</td></tr><tr><td>FileSize</td><td>资源大小（为了兼容花园数据，请显示为 123.45MB、1.234GB 这种格式）</td><td>string</td><td>297.5MB</td></tr><tr><td>PublishDate</td><td>发布时间（格式为 yyyy-MM-dd HH:mm:ss）</td><td>string</td><td>2021-01-05 13:02:00</td></tr></tbody></table><p>接口说明：</p><p>参数将通过URL传递，最终的url格式应该类似于 <code>http://example.com/list?keyword={keyword}&amp;subgroup={subgroupId}&amp;type={typeId}&amp;r={random}</code></p><p>当没有传递 <code>subgroup</code> 或 <code>type</code> 参数，或者参数数字小于0时，请忽略此参数。</p>`,28);function v(q,m){const a=o("router-link");return u(),l("div",null,[c,n("nav",d,[n("ul",null,[n("li",null,[t(a,{to:"#说明"},{default:p(()=>[s("说明")]),_:1})]),n("li",null,[t(a,{to:"#流程介绍"},{default:p(()=>[s("流程介绍")]),_:1})]),n("li",null,[t(a,{to:"#接口详情"},{default:p(()=>[s("接口详情")]),_:1}),n("ul",null,[n("li",null,[t(a,{to:"#_1-get-subgroup"},{default:p(()=>[s("1. GET /subgroup")]),_:1})]),n("li",null,[t(a,{to:"#_2-get-type"},{default:p(()=>[s("2. GET /type")]),_:1})]),n("li",null,[t(a,{to:"#_3-get-list"},{default:p(()=>[s("3. GET /list")]),_:1})])])])])]),k])}const h=e(i,[["render",v],["__file","resource-service-api.html.vue"]]);export{h as default};
